<!doctype html>
<html ng-app="NextTramOptions" ng-csp>
  <head>
    <title>Next Tram - Options</title>
     <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
     <link rel="stylesheet" type="text/css" href="css/main.css">
     <style >
     	.nav, .pagination, .carousel, .panel-title a { cursor: pointer; }
     	ul.ng-hide{
     		display: none !important;
     	}
     </style>
  </head>
  <body>
	<div class="container"  ng-controller="OptionsController">
		<div class="row">
			<div class="col-md-12">
				<h1 class="page-header">Next Tram <small>Options</small></h1>

				<p>Add the Connection you want to watch. </p>

				<p>
					<button class="btn btn-default" ng-click="form_show=true"><span class="glyphicon glyphicon-plus"></span> New Connection</button>
				</p>

				<div class="row">
					<div class="col-md-6">
						<form novalidate name="connection_form" ng-submit="saveConnection()" ng-show="form_show">
							<div class="form-group">
						     	<input type="text" class="form-control" name="options_connection_from" 
						     	ng-model="options.connection.from"
						     	placeholder="From" 
						     	typeahead="station for station in getStation($viewValue)" 
						     	typeahead-wait-ms="100" required >
						     	<span ng-show="connection_form.options_connection_from.$invalid" class="help-block">required</span>
							  </div>
							  <div class="form-group">
							    <input type="text" class="form-control" name="options_connection_to" placeholder="To" 
							    ng-model="options.connection.to" 
						     	typeahead="station for station in getStation($viewValue)" 
						     	typeahead-wait-ms="100" required>
						     	<span ng-show="connection_form.options_connection_to.$invalid" class="help-block">
						     	required</span>
							  </div>
							  <div class="form-group">
							    <input type="number" class="form-control" name="options_connection_timeToStation" placeholder="Time offset in minutes" 
							    ng-model="options.time_offset" >
						     	<span ng-show="connection_form.options_connection_timeToStation.$invalid" class="help-block">
						     	must be a number</span>
							  </div>
							  
							  <!-- <div class="form-group">
							    <select type="text" class="form-control" id="product" placeholder="Product">
									<option value="">--- no product ---</option>
							    </select>
							  </div>-->
							  <div class="form-group">
							      <button ng-disabled="connection_form.$invalid" type="submit" class="btn btn-primary">Save</button>
							      <button ng-click="form_show=false" type="button" class="btn btn-danger">Cancel</button>
							      <span class="help-block">It can take some time till the connections will shown</span>
							  </div>
							  <p>{{options.connection.from}} - {{options.connection.to}}</p>
						</form>
						
						<table class="table table-striped table-responsive">
							<thead>
								<tr>
									<th>From</th>
									<th>To</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="connection in connections">
									<td>{{connection.from}}</td>
									<td>{{connection.to}}</td>
									<td><button class="btn btn-default"><span class="fa fa-pencil"></span></button>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/moment/min/moment-with-locales.min.js"></script>
    <script src="bower_components/angular-chrome-storage/angular-chrome-storage.js"></script>
    <script src="js/services/OpenDataService.js"></script>
    <script src="js/services/OptionsService.js"></script>
    <script src="js/appOptions.js"></script>
    <script src="js/options.js"></script>
  </body>
</html>

